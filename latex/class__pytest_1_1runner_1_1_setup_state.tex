\doxysection{\+\_\+pytest.\+runner.\+Setup\+State Class Reference}
\hypertarget{class__pytest_1_1runner_1_1_setup_state}{}\label{class__pytest_1_1runner_1_1_setup_state}\index{\_pytest.runner.SetupState@{\_pytest.runner.SetupState}}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
None \mbox{\hyperlink{class__pytest_1_1runner_1_1_setup_state_ab411fbb3343269c0e4b3d400d5484eb5}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self)
\item 
None \mbox{\hyperlink{class__pytest_1_1runner_1_1_setup_state_a2520b88ac37381e985581adc8d283339}{setup}} (self, \mbox{\hyperlink{class__pytest_1_1nodes_1_1_item}{Item}} item)
\item 
None \mbox{\hyperlink{class__pytest_1_1runner_1_1_setup_state_af8bf00e139fdac770bac1e5669eb346b}{addfinalizer}} (self, Callable\mbox{[}\mbox{[}$\,$\mbox{]}, object\mbox{]} finalizer, \mbox{\hyperlink{class__pytest_1_1nodes_1_1_node}{Node}} node)
\item 
None \mbox{\hyperlink{class__pytest_1_1runner_1_1_setup_state_aa4a73df686ba51a7c260271f64fd2c16}{teardown\+\_\+exact}} (self, \mbox{\hyperlink{class__pytest_1_1nodes_1_1_item}{Item}}\texorpdfstring{$\vert$}{|}None nextitem)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
dict\mbox{[} \mbox{\hyperlink{class__pytest_1_1runner_1_1_setup_state_a8a12df156923e7d68a3a741d34eb30c6}{stack}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Shared state for setting up/tearing down test items or collectors
in a session.

Suppose we have a collection tree as follows:

<Session session>
    <Module mod1>
        <Function item1>
    <Module mod2>
        <Function item2>

The SetupState maintains a stack. The stack starts out empty:

    []

During the setup phase of item1, setup(item1) is called. What it does
is:

    push session to stack, run session.setup()
    push mod1 to stack, run mod1.setup()
    push item1 to stack, run item1.setup()

The stack is:

    [session, mod1, item1]

While the stack is in this shape, it is allowed to add finalizers to
each of session, mod1, item1 using addfinalizer().

During the teardown phase of item1, teardown_exact(item2) is called,
where item2 is the next item to item1. What it does is:

    pop item1 from stack, run its teardowns
    pop mod1 from stack, run its teardowns

mod1 was popped because it ended its purpose with item1. The stack is:

    [session]

During the setup phase of item2, setup(item2) is called. What it does
is:

    push mod2 to stack, run mod2.setup()
    push item2 to stack, run item2.setup()

Stack:

    [session, mod2, item2]

During the teardown phase of item2, teardown_exact(None) is called,
because item2 is the last item. What it does is:

    pop item2 from stack, run its teardowns
    pop mod2 from stack, run its teardowns
    pop session from stack, run its teardowns

Stack:

    []

The end!
\end{DoxyVerb}
 

\label{doc-constructors}
\Hypertarget{class__pytest_1_1runner_1_1_setup_state_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class__pytest_1_1runner_1_1_setup_state_ab411fbb3343269c0e4b3d400d5484eb5}\index{\_pytest.runner.SetupState@{\_pytest.runner.SetupState}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!\_pytest.runner.SetupState@{\_pytest.runner.SetupState}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily \label{class__pytest_1_1runner_1_1_setup_state_ab411fbb3343269c0e4b3d400d5484eb5} 
 None \+\_\+pytest.\+runner.\+Setup\+State.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



\label{doc-func-members}
\Hypertarget{class__pytest_1_1runner_1_1_setup_state_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{class__pytest_1_1runner_1_1_setup_state_af8bf00e139fdac770bac1e5669eb346b}\index{\_pytest.runner.SetupState@{\_pytest.runner.SetupState}!addfinalizer@{addfinalizer}}
\index{addfinalizer@{addfinalizer}!\_pytest.runner.SetupState@{\_pytest.runner.SetupState}}
\doxysubsubsection{\texorpdfstring{addfinalizer()}{addfinalizer()}}
{\footnotesize\ttfamily \label{class__pytest_1_1runner_1_1_setup_state_af8bf00e139fdac770bac1e5669eb346b} 
 None \+\_\+pytest.\+runner.\+Setup\+State.\+addfinalizer (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{Callable\mbox{[}\mbox{[}$\,$\mbox{]}, object\mbox{]}}]{finalizer}{, }\item[{\mbox{\hyperlink{class__pytest_1_1nodes_1_1_node}{Node}}}]{node}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Attach a finalizer to the given node.

The node must be currently active in the stack.
\end{DoxyVerb}
 \Hypertarget{class__pytest_1_1runner_1_1_setup_state_a2520b88ac37381e985581adc8d283339}\index{\_pytest.runner.SetupState@{\_pytest.runner.SetupState}!setup@{setup}}
\index{setup@{setup}!\_pytest.runner.SetupState@{\_pytest.runner.SetupState}}
\doxysubsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily \label{class__pytest_1_1runner_1_1_setup_state_a2520b88ac37381e985581adc8d283339} 
 None \+\_\+pytest.\+runner.\+Setup\+State.\+setup (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{\mbox{\hyperlink{class__pytest_1_1nodes_1_1_item}{Item}}}]{item}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Setup objects along the collector chain to the item.\end{DoxyVerb}
 \Hypertarget{class__pytest_1_1runner_1_1_setup_state_aa4a73df686ba51a7c260271f64fd2c16}\index{\_pytest.runner.SetupState@{\_pytest.runner.SetupState}!teardown\_exact@{teardown\_exact}}
\index{teardown\_exact@{teardown\_exact}!\_pytest.runner.SetupState@{\_pytest.runner.SetupState}}
\doxysubsubsection{\texorpdfstring{teardown\_exact()}{teardown\_exact()}}
{\footnotesize\ttfamily \label{class__pytest_1_1runner_1_1_setup_state_aa4a73df686ba51a7c260271f64fd2c16} 
 None \+\_\+pytest.\+runner.\+Setup\+State.\+teardown\+\_\+exact (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{\mbox{\hyperlink{class__pytest_1_1nodes_1_1_item}{Item}} \texorpdfstring{$\vert$}{|} None}]{nextitem}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Teardown the current stack up until reaching nodes that nextitem
also descends from.

When nextitem is None (meaning we're at the last item), the entire
stack is torn down.
\end{DoxyVerb}
 

\label{doc-variable-members}
\Hypertarget{class__pytest_1_1runner_1_1_setup_state_doc-variable-members}
\doxysubsection{Member Data Documentation}
\Hypertarget{class__pytest_1_1runner_1_1_setup_state_a8a12df156923e7d68a3a741d34eb30c6}\index{\_pytest.runner.SetupState@{\_pytest.runner.SetupState}!stack@{stack}}
\index{stack@{stack}!\_pytest.runner.SetupState@{\_pytest.runner.SetupState}}
\doxysubsubsection{\texorpdfstring{stack}{stack}}
{\footnotesize\ttfamily \label{class__pytest_1_1runner_1_1_setup_state_a8a12df156923e7d68a3a741d34eb30c6} 
\+\_\+pytest.\+runner.\+Setup\+State.\+stack}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
feira\+\_\+venv/\+Lib/site-\/packages/\+\_\+pytest/\mbox{\hyperlink{__pytest_2runner_8py}{runner.\+py}}\end{DoxyCompactItemize}
