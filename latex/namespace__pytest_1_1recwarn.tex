\doxysection{\+\_\+pytest.\+recwarn Namespace Reference}
\hypertarget{namespace__pytest_1_1recwarn}{}\label{namespace__pytest_1_1recwarn}\index{\_pytest.recwarn@{\_pytest.recwarn}}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class__pytest_1_1recwarn_1_1_warnings_checker}{Warnings\+Checker}}
\item 
class \mbox{\hyperlink{class__pytest_1_1recwarn_1_1_warnings_recorder}{Warnings\+Recorder}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
Generator\mbox{[}\mbox{\hyperlink{class__pytest_1_1recwarn_1_1_warnings_recorder}{Warnings\+Recorder}}\mbox{]} \mbox{\hyperlink{namespace__pytest_1_1recwarn_a4a4a76e77c5868d1382c4d81baba2486}{recwarn}} ()
\item 
\mbox{\hyperlink{class__pytest_1_1recwarn_1_1_warnings_recorder}{Warnings\+Recorder}} \mbox{\hyperlink{namespace__pytest_1_1recwarn_a68ad61c97838c240a90144a93364967e}{deprecated\+\_\+call}} (\texorpdfstring{$\ast$}{*}, str\texorpdfstring{$\vert$}{|}re.\+Pattern\mbox{[}str\mbox{]}\texorpdfstring{$\vert$}{|}None match=...)
\item 
\mbox{\hyperlink{namespace__pytest_1_1recwarn_aa38a4afc8955d2be1bc86d98f2b77bf9}{T}} \mbox{\hyperlink{namespace__pytest_1_1recwarn_ac39c65e023b9ece4a0e30b78ec46b76b}{deprecated\+\_\+call}} (Callable\mbox{[}..., \mbox{\hyperlink{namespace__pytest_1_1recwarn_aa38a4afc8955d2be1bc86d98f2b77bf9}{T}}\mbox{]} func, \texorpdfstring{$\ast$}{*}Any args, \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}Any kwargs)
\item 
\mbox{\hyperlink{class__pytest_1_1recwarn_1_1_warnings_recorder}{Warnings\+Recorder}}\texorpdfstring{$\vert$}{|}Any \mbox{\hyperlink{namespace__pytest_1_1recwarn_a1459126150033a896ce075d1ff66dd88}{deprecated\+\_\+call}} (Callable\mbox{[}..., Any\mbox{]}\texorpdfstring{$\vert$}{|}None func=None, \texorpdfstring{$\ast$}{*}Any args, \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}Any kwargs)
\item 
\mbox{\hyperlink{class__pytest_1_1recwarn_1_1_warnings_checker}{Warnings\+Checker}} \mbox{\hyperlink{namespace__pytest_1_1recwarn_ac6f52401a08bcda7d4c75175a694a1a6}{warns}} (type\mbox{[}Warning\mbox{]}\texorpdfstring{$\vert$}{|}tuple\mbox{[}type\mbox{[}Warning\mbox{]},...\mbox{]} expected\+\_\+warning=..., \texorpdfstring{$\ast$}{*}, str\texorpdfstring{$\vert$}{|}re.\+Pattern\mbox{[}str\mbox{]}\texorpdfstring{$\vert$}{|}None match=...)
\item 
\mbox{\hyperlink{namespace__pytest_1_1recwarn_aa38a4afc8955d2be1bc86d98f2b77bf9}{T}} \mbox{\hyperlink{namespace__pytest_1_1recwarn_a813d3203219ef628528102c1e7a692a9}{warns}} (type\mbox{[}Warning\mbox{]}\texorpdfstring{$\vert$}{|}tuple\mbox{[}type\mbox{[}Warning\mbox{]},...\mbox{]} expected\+\_\+warning, Callable\mbox{[}..., \mbox{\hyperlink{namespace__pytest_1_1recwarn_aa38a4afc8955d2be1bc86d98f2b77bf9}{T}}\mbox{]} func, \texorpdfstring{$\ast$}{*}Any args, \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}Any kwargs)
\item 
\mbox{\hyperlink{class__pytest_1_1recwarn_1_1_warnings_checker}{Warnings\+Checker}}\texorpdfstring{$\vert$}{|}Any \mbox{\hyperlink{namespace__pytest_1_1recwarn_a34e14214902dbd3c7e4d46da8ba0b474}{warns}} (type\mbox{[}Warning\mbox{]}\texorpdfstring{$\vert$}{|}tuple\mbox{[}type\mbox{[}Warning\mbox{]},...\mbox{]} expected\+\_\+warning=Warning, \texorpdfstring{$\ast$}{*}Any args, str\texorpdfstring{$\vert$}{|}re.\+Pattern\mbox{[}str\mbox{]}\texorpdfstring{$\vert$}{|}None match=None, \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}Any kwargs)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace__pytest_1_1recwarn_aa38a4afc8955d2be1bc86d98f2b77bf9}{T}} = Type\+Var("{}T"{})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Record warnings during test function execution.\end{DoxyVerb}
 

\label{doc-func-members}
\Hypertarget{namespace__pytest_1_1recwarn_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{namespace__pytest_1_1recwarn_a68ad61c97838c240a90144a93364967e}\index{\_pytest.recwarn@{\_pytest.recwarn}!deprecated\_call@{deprecated\_call}}
\index{deprecated\_call@{deprecated\_call}!\_pytest.recwarn@{\_pytest.recwarn}}
\doxysubsubsection{\texorpdfstring{deprecated\_call()}{deprecated\_call()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \label{namespace__pytest_1_1recwarn_a68ad61c97838c240a90144a93364967e} 
 \mbox{\hyperlink{class__pytest_1_1recwarn_1_1_warnings_recorder}{Warnings\+Recorder}} \+\_\+pytest.\+recwarn.\+deprecated\+\_\+call (\begin{DoxyParamCaption}\item[{\texorpdfstring{$\ast$}{*}}]{}{, }\item[{str \texorpdfstring{$\vert$}{|} re.\+Pattern\mbox{[}str\mbox{]} \texorpdfstring{$\vert$}{|} None }]{match}{ = {\ttfamily ...}}\end{DoxyParamCaption})}

\Hypertarget{namespace__pytest_1_1recwarn_a1459126150033a896ce075d1ff66dd88}\index{\_pytest.recwarn@{\_pytest.recwarn}!deprecated\_call@{deprecated\_call}}
\index{deprecated\_call@{deprecated\_call}!\_pytest.recwarn@{\_pytest.recwarn}}
\doxysubsubsection{\texorpdfstring{deprecated\_call()}{deprecated\_call()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \label{namespace__pytest_1_1recwarn_a1459126150033a896ce075d1ff66dd88} 
 \mbox{\hyperlink{class__pytest_1_1recwarn_1_1_warnings_recorder}{Warnings\+Recorder}} \texorpdfstring{$\vert$}{|} Any \+\_\+pytest.\+recwarn.\+deprecated\+\_\+call (\begin{DoxyParamCaption}\item[{Callable\mbox{[}..., Any\mbox{]} \texorpdfstring{$\vert$}{|} None }]{func}{ = {\ttfamily None}, }\item[{\texorpdfstring{$\ast$}{*}Any}]{args}{, }\item[{\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}Any }]{kwargs}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Assert that code produces a ``DeprecationWarning`` or ``PendingDeprecationWarning`` or ``FutureWarning``.

This function can be used as a context manager::

    >>> import warnings
    >>> def api_call_v2():
    ...     warnings.warn('use v3 of this api', DeprecationWarning)
    ...     return 200

    >>> import pytest
    >>> with pytest.deprecated_call():
    ...    assert api_call_v2() == 200

It can also be used by passing a function and ``*args`` and ``**kwargs``,
in which case it will ensure calling ``func(*args, **kwargs)`` produces one of
the warnings types above. The return value is the return value of the function.

In the context manager form you may use the keyword argument ``match`` to assert
that the warning matches a text or regex.

The context manager produces a list of :class:`warnings.WarningMessage` objects,
one for each warning raised.
\end{DoxyVerb}
 \Hypertarget{namespace__pytest_1_1recwarn_ac39c65e023b9ece4a0e30b78ec46b76b}\index{\_pytest.recwarn@{\_pytest.recwarn}!deprecated\_call@{deprecated\_call}}
\index{deprecated\_call@{deprecated\_call}!\_pytest.recwarn@{\_pytest.recwarn}}
\doxysubsubsection{\texorpdfstring{deprecated\_call()}{deprecated\_call()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \label{namespace__pytest_1_1recwarn_ac39c65e023b9ece4a0e30b78ec46b76b} 
 \mbox{\hyperlink{namespace__pytest_1_1recwarn_aa38a4afc8955d2be1bc86d98f2b77bf9}{T}} \+\_\+pytest.\+recwarn.\+deprecated\+\_\+call (\begin{DoxyParamCaption}\item[{Callable\mbox{[}..., \mbox{\hyperlink{namespace__pytest_1_1recwarn_aa38a4afc8955d2be1bc86d98f2b77bf9}{T}}\mbox{]}}]{func}{, }\item[{\texorpdfstring{$\ast$}{*}Any}]{args}{, }\item[{\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}Any}]{kwargs}{}\end{DoxyParamCaption})}

\Hypertarget{namespace__pytest_1_1recwarn_a4a4a76e77c5868d1382c4d81baba2486}\index{\_pytest.recwarn@{\_pytest.recwarn}!recwarn@{recwarn}}
\index{recwarn@{recwarn}!\_pytest.recwarn@{\_pytest.recwarn}}
\doxysubsubsection{\texorpdfstring{recwarn()}{recwarn()}}
{\footnotesize\ttfamily \label{namespace__pytest_1_1recwarn_a4a4a76e77c5868d1382c4d81baba2486} 
 Generator\mbox{[}\mbox{\hyperlink{class__pytest_1_1recwarn_1_1_warnings_recorder}{Warnings\+Recorder}}\mbox{]} \+\_\+pytest.\+recwarn.\+recwarn (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Return a :class:`WarningsRecorder` instance that records all warnings emitted by test functions.

See :ref:`warnings` for information on warning categories.
\end{DoxyVerb}
 \Hypertarget{namespace__pytest_1_1recwarn_a813d3203219ef628528102c1e7a692a9}\index{\_pytest.recwarn@{\_pytest.recwarn}!warns@{warns}}
\index{warns@{warns}!\_pytest.recwarn@{\_pytest.recwarn}}
\doxysubsubsection{\texorpdfstring{warns()}{warns()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \label{namespace__pytest_1_1recwarn_a813d3203219ef628528102c1e7a692a9} 
 \mbox{\hyperlink{namespace__pytest_1_1recwarn_aa38a4afc8955d2be1bc86d98f2b77bf9}{T}} \+\_\+pytest.\+recwarn.\+warns (\begin{DoxyParamCaption}\item[{type\mbox{[}Warning\mbox{]} \texorpdfstring{$\vert$}{|} tuple\mbox{[}type\mbox{[}Warning\mbox{]}, ...\mbox{]}}]{expected\+\_\+warning}{, }\item[{Callable\mbox{[}..., \mbox{\hyperlink{namespace__pytest_1_1recwarn_aa38a4afc8955d2be1bc86d98f2b77bf9}{T}}\mbox{]}}]{func}{, }\item[{\texorpdfstring{$\ast$}{*}Any}]{args}{, }\item[{\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}Any}]{kwargs}{}\end{DoxyParamCaption})}

\Hypertarget{namespace__pytest_1_1recwarn_ac6f52401a08bcda7d4c75175a694a1a6}\index{\_pytest.recwarn@{\_pytest.recwarn}!warns@{warns}}
\index{warns@{warns}!\_pytest.recwarn@{\_pytest.recwarn}}
\doxysubsubsection{\texorpdfstring{warns()}{warns()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \label{namespace__pytest_1_1recwarn_ac6f52401a08bcda7d4c75175a694a1a6} 
 \mbox{\hyperlink{class__pytest_1_1recwarn_1_1_warnings_checker}{Warnings\+Checker}} \+\_\+pytest.\+recwarn.\+warns (\begin{DoxyParamCaption}\item[{type\mbox{[}Warning\mbox{]} \texorpdfstring{$\vert$}{|} tuple\mbox{[}type\mbox{[}Warning\mbox{]}, ...\mbox{]} }]{expected\+\_\+warning}{ = {\ttfamily ...}, }\item[{\texorpdfstring{$\ast$}{*}}]{}{, }\item[{str \texorpdfstring{$\vert$}{|} re.\+Pattern\mbox{[}str\mbox{]} \texorpdfstring{$\vert$}{|} None }]{match}{ = {\ttfamily ...}}\end{DoxyParamCaption})}

\Hypertarget{namespace__pytest_1_1recwarn_a34e14214902dbd3c7e4d46da8ba0b474}\index{\_pytest.recwarn@{\_pytest.recwarn}!warns@{warns}}
\index{warns@{warns}!\_pytest.recwarn@{\_pytest.recwarn}}
\doxysubsubsection{\texorpdfstring{warns()}{warns()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \label{namespace__pytest_1_1recwarn_a34e14214902dbd3c7e4d46da8ba0b474} 
 \mbox{\hyperlink{class__pytest_1_1recwarn_1_1_warnings_checker}{Warnings\+Checker}} \texorpdfstring{$\vert$}{|} Any \+\_\+pytest.\+recwarn.\+warns (\begin{DoxyParamCaption}\item[{type\mbox{[}Warning\mbox{]} \texorpdfstring{$\vert$}{|} tuple\mbox{[}type\mbox{[}Warning\mbox{]}, ...\mbox{]} }]{expected\+\_\+warning}{ = {\ttfamily Warning}, }\item[{\texorpdfstring{$\ast$}{*}Any}]{args}{, }\item[{str \texorpdfstring{$\vert$}{|} re.\+Pattern\mbox{[}str\mbox{]} \texorpdfstring{$\vert$}{|} None }]{match}{ = {\ttfamily None}, }\item[{\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}Any}]{kwargs}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Assert that code raises a particular class of warning.

Specifically, the parameter ``expected_warning`` can be a warning class or tuple
of warning classes, and the code inside the ``with`` block must issue at least one
warning of that class or classes.

This helper produces a list of :class:`warnings.WarningMessage` objects, one for
each warning emitted (regardless of whether it is an ``expected_warning`` or not).
Since pytest 8.0, unmatched warnings are also re-emitted when the context closes.

This function can be used as a context manager::

    >>> import pytest
    >>> with pytest.warns(RuntimeWarning):
    ...    warnings.warn("my warning", RuntimeWarning)

In the context manager form you may use the keyword argument ``match`` to assert
that the warning matches a text or regex::

    >>> with pytest.warns(UserWarning, match='must be 0 or None'):
    ...     warnings.warn("value must be 0 or None", UserWarning)

    >>> with pytest.warns(UserWarning, match=r'must be \d+$'):
    ...     warnings.warn("value must be 42", UserWarning)

    >>> with pytest.warns(UserWarning):  # catch re-emitted warning
    ...     with pytest.warns(UserWarning, match=r'must be \d+$'):
    ...         warnings.warn("this is not here", UserWarning)
    Traceback (most recent call last):
      ...
    Failed: DID NOT WARN. No warnings of type ...UserWarning... were emitted...

**Using with** ``pytest.mark.parametrize``

When using :ref:`pytest.mark.parametrize ref` it is possible to parametrize tests
such that some runs raise a warning and others do not.

This could be achieved in the same way as with exceptions, see
:ref:`parametrizing_conditional_raising` for an example.
\end{DoxyVerb}
 

\label{doc-var-members}
\Hypertarget{namespace__pytest_1_1recwarn_doc-var-members}
\doxysubsection{Variable Documentation}
\Hypertarget{namespace__pytest_1_1recwarn_aa38a4afc8955d2be1bc86d98f2b77bf9}\index{\_pytest.recwarn@{\_pytest.recwarn}!T@{T}}
\index{T@{T}!\_pytest.recwarn@{\_pytest.recwarn}}
\doxysubsubsection{\texorpdfstring{T}{T}}
{\footnotesize\ttfamily \label{namespace__pytest_1_1recwarn_aa38a4afc8955d2be1bc86d98f2b77bf9} 
\+\_\+pytest.\+recwarn.\+T = Type\+Var("{}T"{})}

